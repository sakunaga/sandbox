#!/bin/bash

source ./commands/error
source ./commands/mg_init
source ./commands/mg_reset
source ./commands/er_init
source ./commands/commands
source ./commands/info
source ./commands/init
source ./commands/update
source ./commands/open
source ./commands/reset
source ./commands/upgrade
source ./commands/uninstall

cd `dirname $0`
case $1 in
    -h ) commands ;;
    --help ) commands ;;
    info ) info ;;
    init ) init ;;
    update ) update ;;
    open ) 
        if [ -n "$2" ] && [[ "$2" =~ ^[0-9]+$ ]]; then
            open "$2"
        else
            open
        fi
        ;;
    reset ) reset ;;
    upgrade ) upgrade ;;
    uninstall ) uninstall ;;
    [0-9]* ) open "$1" ;;  # 数字が直接入力された場合
    * ) open ;;
esac
